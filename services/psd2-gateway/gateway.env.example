# PSD2 Open Banking Gateway - Environment Configuration
# Copy this file to gateway.env and fill in your values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_DB=open_banking
POSTGRES_USER=psd2_user
POSTGRES_PASSWORD=change_this_secure_password_in_production

# =============================================================================
# SECURITY
# =============================================================================
# JWT secret for signing tokens (generate with: openssl rand -base64 32)
JWT_SECRET=change_this_to_a_random_32_char_secret_key

# =============================================================================
# CORS SETTINGS
# =============================================================================
# Comma-separated list of allowed origins
# Development: http://localhost:*,https://localhost:*
# Production: https://www.facturino.mk,https://facturino.mk
CORS_ORIGINS=http://localhost:*,https://localhost:*

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
# PSD2 standard recommends 15 requests per minute
RATE_LIMIT_RPM=15

# =============================================================================
# LOGGING
# =============================================================================
# Options: TRACE, DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO
SHOW_SQL=false

# =============================================================================
# NLB BANK CONFIGURATION
# =============================================================================
# Register your application at: https://developer-ob.nlb.mk/
NLB_CLIENT_ID=your_nlb_client_id_here
NLB_CLIENT_SECRET=your_nlb_client_secret_here
NLB_ENVIRONMENT=sandbox
# Sandbox URL: https://sandbox-ob-api.nlb.mk
# Production URL: https://ob-api.nlb.mk
NLB_BASE_URL=https://sandbox-ob-api.nlb.mk

# OAuth redirect URI (must match what's registered in NLB developer portal)
NLB_REDIRECT_URI=https://www.facturino.mk/api/v1/banking/oauth/callback/nlb

# Scopes (NLB-specific, usually: openid or AIS)
NLB_SCOPES=openid

# =============================================================================
# STOPANSKA BANKA CONFIGURATION
# =============================================================================
# Contact Stopanska Bank for developer access
STOPANSKA_CLIENT_ID=your_stopanska_client_id_here
STOPANSKA_CLIENT_SECRET=your_stopanska_client_secret_here
STOPANSKA_ENVIRONMENT=sandbox
STOPANSKA_BASE_URL=https://sandbox-api.stopanska.mk

# OAuth redirect URI
STOPANSKA_REDIRECT_URI=https://www.facturino.mk/api/v1/banking/oauth/callback/stopanska

# Scopes (usually: accounts transactions)
STOPANSKA_SCOPES=accounts transactions

# =============================================================================
# KOMERCIJALNA BANKA CONFIGURATION
# =============================================================================
# Contact Komercijalna Banka for developer access
KOMERCIJALNA_CLIENT_ID=your_komercijalna_client_id_here
KOMERCIJALNA_CLIENT_SECRET=your_komercijalna_client_secret_here
KOMERCIJALNA_ENVIRONMENT=sandbox
KOMERCIJALNA_BASE_URL=https://sandbox-api.kbm.mk

# OAuth redirect URI
KOMERCIJALNA_REDIRECT_URI=https://www.facturino.mk/api/v1/banking/oauth/callback/komercijalna

# Scopes (usually: accounts transactions)
KOMERCIJALNA_SCOPES=accounts transactions

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit this file with real credentials to version control
# 2. In production, use environment variables or secrets manager
# 3. Redirect URIs must EXACTLY match what's registered in bank portals
# 4. For local development, use ngrok for HTTPS callback URLs
# 5. Rate limits are per bank - respect PSD2 guidelines (15 req/min)

# CLAUDE-CHECKPOINT
