# Error Reporting and Notification Configuration
# Copy relevant settings to your .env file to enable error reporting features

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Default log channel (use 'production' or 'production_with_monitoring' in production)
LOG_CHANNEL=stack

# Log level for default channel
LOG_LEVEL=debug

# Number of days to keep daily logs
LOG_DAILY_DAYS=14

# =============================================================================
# SLACK NOTIFICATIONS
# =============================================================================

# Slack webhook URL for critical errors (fires for critical/emergency/alert levels)
LOG_SLACK_CRITICAL_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Slack webhook URL for general errors (fires for error level)
LOG_SLACK_ERRORS_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Slack bot configuration
LOG_SLACK_USERNAME="System Monitor"
LOG_SLACK_EMOJI=":warning:"

# =============================================================================
# EMAIL NOTIFICATIONS
# =============================================================================

# Comma-separated list of email addresses to receive critical error notifications
LOG_EMAIL_RECIPIENTS=admin@example.com,dev-team@example.com,support@example.com

# Mail configuration (required for email notifications)
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=your_username
MAIL_PASSWORD=your_password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@example.com
MAIL_FROM_NAME="System Monitor"

# =============================================================================
# EXTERNAL MONITORING SERVICES
# =============================================================================

# Sentry DSN for error tracking (optional but recommended for production)
SENTRY_LARAVEL_DSN=https://your-dsn@sentry.io/project-id

# DataDog log endpoint (if using DataDog)
DATADOG_LOG_ENDPOINT=tcp://intake.logs.datadoghq.com:10516

# =============================================================================
# PAPERTRAIL LOGGING SERVICE
# =============================================================================

# Papertrail configuration (optional)
PAPERTRAIL_URL=logs.papertrailapp.com
PAPERTRAIL_PORT=12345

# =============================================================================
# PRODUCTION ENVIRONMENT RECOMMENDATIONS
# =============================================================================

# For production, use one of these logging stacks:
# LOG_CHANNEL=production                    # Basic production logging with notifications
# LOG_CHANNEL=production_with_monitoring    # Production + Sentry integration

# Recommended production settings:
# LOG_LEVEL=warning                         # Only log warnings and above in production
# LOG_DAILY_DAYS=30                        # Keep logs longer in production
# APP_DEBUG=false                           # Never enable debug in production

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================

# Global rate limiting (requests per minute per IP)
RATE_LIMIT_GLOBAL=60

# API rate limiting (requests per minute per user)
RATE_LIMIT_API=100

# Authentication rate limiting (login attempts per minute per IP)
RATE_LIMIT_AUTH=5

# =============================================================================
# ERROR PAGE CUSTOMIZATION
# =============================================================================

# Support URLs for error pages
SUPPORT_URL=https://example.com/support
HELP_URL=https://example.com/help
STATUS_PAGE_URL=https://status.example.com

# Company information for error pages
COMPANY_NAME="Your Company Name"
COMPANY_CONTACT_EMAIL=support@example.com

# =============================================================================
# SESSION CONFIGURATION
# =============================================================================

# Session lifetime (minutes) - affects CSRF token expiration
SESSION_LIFETIME=120

# Session cookie settings
SESSION_COOKIE_NAME=laravel_session
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SECURE=true
SESSION_SAME_SITE=lax

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Enable/disable error detail exposure in API responses (production should be false)
API_DEBUG_MODE=false

# Maximum request size (affects file uploads and memory errors)
POST_MAX_SIZE=50M
UPLOAD_MAX_FILESIZE=50M

# Memory limit for PHP (affects memory exhaustion errors)
MEMORY_LIMIT=256M

# =============================================================================
# MAINTENANCE MODE
# =============================================================================

# Maintenance mode settings
MAINTENANCE_SECRET=your-secret-key
MAINTENANCE_DRIVER=file

# =============================================================================
# QUEUE CONFIGURATION FOR ERROR PROCESSING
# =============================================================================

# Queue driver for background error processing
QUEUE_CONNECTION=database

# Queue retry configuration
QUEUE_RETRY_AFTER=90
QUEUE_MAX_TRIES=3

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Cache driver (affects cache-related errors)
CACHE_DRIVER=redis

# Redis configuration (if using Redis for cache/sessions)
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database configuration (affects database-related errors)
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=your_database
DB_USERNAME=your_username
DB_PASSWORD=your_password

# Database pool configuration
DB_POOL_MAX_CONNECTIONS=10
DB_POOL_MIN_CONNECTIONS=1

# =============================================================================
# EXAMPLE CONFIGURATION COMBINATIONS
# =============================================================================

# DEVELOPMENT ENVIRONMENT:
# LOG_CHANNEL=stack
# LOG_LEVEL=debug
# APP_DEBUG=true
# (No Slack/Email notifications needed)

# STAGING ENVIRONMENT:
# LOG_CHANNEL=staging
# LOG_LEVEL=info
# APP_DEBUG=false
# LOG_SLACK_CRITICAL_WEBHOOK_URL=...
# (Light monitoring)

# PRODUCTION ENVIRONMENT:
# LOG_CHANNEL=production_with_monitoring
# LOG_LEVEL=warning
# APP_DEBUG=false
# SENTRY_LARAVEL_DSN=...
# LOG_SLACK_CRITICAL_WEBHOOK_URL=...
# LOG_EMAIL_RECIPIENTS=...
# (Full monitoring and alerting)

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# When running tests, use these settings:
# LOG_CHANNEL=testing
# LOG_LEVEL=emergency
# (Minimal logging during tests)