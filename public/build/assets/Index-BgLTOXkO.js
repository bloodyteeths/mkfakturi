import{v as F,H as C,I as V,e as g,aA as o,F as Q,j as B,P as H,k as G,r as m,c as j,o as S,b as i,a as e,w as c,l as N,q as U,t as x,m as L,K as z,M as X,L as Z}from"./main-Bq1VlIEV.js";const ee={class:"grid gap-8 md:grid-cols-12 pt-10"},te={class:"col-span-8 md:col-span-4"},ae={class:"flex flex-col my-6 lg:space-x-3 lg:flex-row"},oe={class:"col-span-8"},re=["src"],ne={__name:"SalesReports",setup(W){const{t:y}=F.useI18n(),D=C();D.downloadReport=P;const n=V([{label:y("dateRange.today"),key:"Today"},{label:y("dateRange.this_week"),key:"This Week"},{label:y("dateRange.this_month"),key:"This Month"},{label:y("dateRange.this_quarter"),key:"This Quarter"},{label:y("dateRange.this_year"),key:"This Year"},{label:y("dateRange.previous_week"),key:"Previous Week"},{label:y("dateRange.previous_month"),key:"Previous Month"},{label:y("dateRange.previous_quarter"),key:"Previous Quarter"},{label:y("dateRange.previous_year"),key:"Previous Year"},{label:y("dateRange.custom"),key:"Custom"}]),p=g(n[2]),s=g([{label:y("reports.sales.sort.by_customer"),value:"By Customer"},{label:y("reports.sales.sort.by_item"),value:"By Item"}]),v=g("By Customer");let R=g(new Date),l=g(null),t=g(null),Y=g(null),r=V({from_date:o().startOf("month").format("YYYY-MM-DD").toString(),to_date:o().endOf("month").format("YYYY-MM-DD").toString()});const f=Q(),d=B(()=>l.value),_=B(()=>f.selectedCompany),T=B(()=>`${t.value}?from_date=${o(r.from_date).format("YYYY-MM-DD")}&to_date=${o(r.to_date).format("YYYY-MM-DD")}`),O=B(()=>`${Y.value}?from_date=${o(r.from_date).format("YYYY-MM-DD")}&to_date=${o(r.to_date).format("YYYY-MM-DD")}`);H(R,w=>{r.from_date=o(w).startOf("year").toString(),r.to_date=o(w).endOf("year").toString()}),G(()=>{t.value=`/reports/sales/customers/${_.value.unique_hash}`,Y.value=`/reports/sales/items/${_.value.unique_hash}`,u()});function h(w,k){return o()[w](k).format("YYYY-MM-DD")}function b(w,k){return o().subtract(1,k)[w](k).format("YYYY-MM-DD")}function a(){switch(p.value.key){case"Today":r.from_date=o().format("YYYY-MM-DD"),r.to_date=o().format("YYYY-MM-DD");break;case"This Week":r.from_date=h("startOf","isoWeek"),r.to_date=h("endOf","isoWeek");break;case"This Month":r.from_date=h("startOf","month"),r.to_date=h("endOf","month");break;case"This Quarter":r.from_date=h("startOf","quarter"),r.to_date=h("endOf","quarter");break;case"This Year":r.from_date=h("startOf","year"),r.to_date=h("endOf","year");break;case"Previous Week":r.from_date=b("startOf","isoWeek"),r.to_date=b("endOf","isoWeek");break;case"Previous Month":r.from_date=b("startOf","month"),r.to_date=b("endOf","month");break;case"Previous Quarter":r.from_date=b("startOf","quarter"),r.to_date=b("endOf","quarter");break;case"Previous Year":r.from_date=b("startOf","year"),r.to_date=b("endOf","year");break}}async function u(){return v.value==="By Customer"?(l.value=T.value,!0):(l.value=O.value,!0)}async function I(){let w=await M();return window.open(d.value,"_blank"),w}function M(){return v.value==="By Customer"?(l.value=T.value,!0):(l.value=O.value,!0)}function P(){if(!M())return!1;window.open(d.value+"&download=true"),setTimeout(()=>v.value==="By Customer"?(l.value=T.value,!0):(l.value=O.value,!0),200)}return(w,k)=>{const $=m("BaseMultiselect"),E=m("BaseInputGroup"),A=m("BaseDatePicker"),K=m("BaseButton"),J=m("BaseIcon");return S(),j("div",ee,[i("div",te,[e(E,{label:w.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[e($,{modelValue:p.value,"onUpdate:modelValue":[k[0]||(k[0]=q=>p.value=q),a],options:n,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),i("div",ae,[e(E,{label:w.$t("reports.sales.from_date")},{default:c(()=>[e(A,{modelValue:N(r).from_date,"onUpdate:modelValue":k[1]||(k[1]=q=>N(r).from_date=q)},null,8,["modelValue"])]),_:1},8,["label"]),k[4]||(k[4]=i("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1)),e(E,{label:w.$t("reports.sales.to_date")},{default:c(()=>[e(A,{modelValue:N(r).to_date,"onUpdate:modelValue":k[2]||(k[2]=q=>N(r).to_date=q)},null,8,["modelValue"])]),_:1},8,["label"])]),e(E,{label:w.$t("reports.sales.report_type"),class:"col-span-12 md:col-span-8"},{default:c(()=>[e($,{modelValue:v.value,"onUpdate:modelValue":[k[3]||(k[3]=q=>v.value=q),u],options:s.value,placeholder:w.$t("reports.sales.report_type"),class:"mt-1"},null,8,["modelValue","options","placeholder"])]),_:1},8,["label"]),e(K,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:L(M,["prevent"])},{default:c(()=>[U(x(w.$t("reports.update_report")),1)]),_:1})]),i("div",oe,[i("iframe",{src:d.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,re),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:I},[e(J,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,x(w.$t("reports.view_pdf")),1)])])])}}},se={class:"grid gap-8 md:grid-cols-12 pt-10"},le={class:"col-span-8 md:col-span-4"},de={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},ue={class:"col-span-8"},ie=["src"],ce={__name:"ExpensesReport",setup(W){const y=C(),D=Q(),{t:n}=F.useI18n();y.downloadReport=b;const p=V([{label:n("dateRange.today"),key:"Today"},{label:n("dateRange.this_week"),key:"This Week"},{label:n("dateRange.this_month"),key:"This Month"},{label:n("dateRange.this_quarter"),key:"This Quarter"},{label:n("dateRange.this_year"),key:"This Year"},{label:n("dateRange.previous_week"),key:"Previous Week"},{label:n("dateRange.previous_month"),key:"Previous Month"},{label:n("dateRange.previous_quarter"),key:"Previous Quarter"},{label:n("dateRange.previous_year"),key:"Previous Year"},{label:n("dateRange.custom"),key:"Custom"}]),s=g(p[2]);let v=g(new Date),R=g(null),l=g(null);const t=V({from_date:o().startOf("month").toString(),to_date:o().endOf("month").toString()}),Y=B(()=>R.value),r=B(()=>D.selectedCompany),f=B(()=>`${l.value}?from_date=${o(t.from_date).format("YYYY-MM-DD")}&to_date=${o(t.to_date).format("YYYY-MM-DD")}`);G(()=>{l.value=`/reports/expenses/${r.value.unique_hash}`,R.value=f.value}),H(()=>v,a=>{t.from_date=o(a).startOf("year").toString(),t.to_date=o(a).endOf("year").toString()});function d(a,u){return o()[a](u).format("YYYY-MM-DD")}function _(a,u){return o().subtract(1,u)[a](u).format("YYYY-MM-DD")}function T(){switch(s.value.key){case"Today":t.from_date=o().format("YYYY-MM-DD"),t.to_date=o().format("YYYY-MM-DD");break;case"This Week":t.from_date=d("startOf","isoWeek"),t.to_date=d("endOf","isoWeek");break;case"This Month":t.from_date=d("startOf","month"),t.to_date=d("endOf","month");break;case"This Quarter":t.from_date=d("startOf","quarter"),t.to_date=d("endOf","quarter");break;case"This Year":t.from_date=d("startOf","year"),t.to_date=d("endOf","year");break;case"Previous Week":t.from_date=_("startOf","isoWeek"),t.to_date=_("endOf","isoWeek");break;case"Previous Month":t.from_date=_("startOf","month"),t.to_date=_("endOf","month");break;case"Previous Quarter":t.from_date=_("startOf","quarter"),t.to_date=_("endOf","quarter");break;case"Previous Year":t.from_date=_("startOf","year"),t.to_date=_("endOf","year");break}}async function O(){let a=await h();return window.open(Y.value,"_blank"),a}function h(){return R.value=f.value,!0}function b(){h(),window.open(Y.value+"&download=true"),setTimeout(()=>{R.value=f.value},200)}return(a,u)=>{const I=m("BaseMultiselect"),M=m("BaseInputGroup"),P=m("BaseDatePicker"),w=m("BaseButton"),k=m("BaseIcon");return S(),j("div",se,[i("div",le,[e(M,{label:a.$t("reports.sales.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[e(I,{modelValue:s.value,"onUpdate:modelValue":[u[0]||(u[0]=$=>s.value=$),T],options:p,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),i("div",de,[e(M,{label:a.$t("reports.expenses.from_date")},{default:c(()=>[e(P,{modelValue:t.from_date,"onUpdate:modelValue":u[1]||(u[1]=$=>t.from_date=$)},null,8,["modelValue"])]),_:1},8,["label"]),u[3]||(u[3]=i("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1)),e(M,{label:a.$t("reports.expenses.to_date")},{default:c(()=>[e(P,{modelValue:t.to_date,"onUpdate:modelValue":u[2]||(u[2]=$=>t.to_date=$)},null,8,["modelValue"])]),_:1},8,["label"])]),e(w,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:L(h,["prevent"])},{default:c(()=>[U(x(a.$t("reports.update_report")),1)]),_:1})]),i("div",ue,[i("iframe",{src:Y.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,ie),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500 cursor-pointer",onClick:O},[e(k,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,x(a.$t("reports.view_pdf")),1)])])])}}},me={class:"grid gap-8 md:grid-cols-12 pt-10"},pe={class:"col-span-8 md:col-span-4"},_e={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},fe={class:"col-span-8"},ve=["src"],be={__name:"ProfitLossReport",setup(W){const y=C(),D=Q(),{t:n}=F.useI18n();y.downloadReport=b;const p=V([{label:n("dateRange.today"),key:"Today"},{label:n("dateRange.this_week"),key:"This Week"},{label:n("dateRange.this_month"),key:"This Month"},{label:n("dateRange.this_quarter"),key:"This Quarter"},{label:n("dateRange.this_year"),key:"This Year"},{label:n("dateRange.previous_week"),key:"Previous Week"},{label:n("dateRange.previous_month"),key:"Previous Month"},{label:n("dateRange.previous_quarter"),key:"Previous Quarter"},{label:n("dateRange.previous_year"),key:"Previous Year"},{label:n("dateRange.custom"),key:"Custom"}]),s=g(p[2]);let v=g(null),R=g(null),l=g(new Date);const t=V({from_date:o().startOf("month").toString(),to_date:o().endOf("month").toString()}),Y=B(()=>v.value),r=B(()=>D.selectedCompany),f=B(()=>`${R.value}?from_date=${o(t.from_date).format("YYYY-MM-DD")}&to_date=${o(t.to_date).format("YYYY-MM-DD")}`);H(l,a=>{t.from_date=o(a).startOf("year").toString(),t.to_date=o(a).endOf("year").toString()}),G(()=>{R.value=`/reports/profit-loss/${r.value.unique_hash}`,v.value=f.value});function d(a,u){return o()[a](u).format("YYYY-MM-DD")}function _(a,u){return o().subtract(1,u)[a](u).format("YYYY-MM-DD")}function T(){switch(s.value.key){case"Today":t.from_date=o().format("YYYY-MM-DD"),t.to_date=o().format("YYYY-MM-DD");break;case"This Week":t.from_date=d("startOf","isoWeek"),t.to_date=d("endOf","isoWeek");break;case"This Month":t.from_date=d("startOf","month"),t.to_date=d("endOf","month");break;case"This Quarter":t.from_date=d("startOf","quarter"),t.to_date=d("endOf","quarter");break;case"This Year":t.from_date=d("startOf","year"),t.to_date=d("endOf","year");break;case"Previous Week":t.from_date=_("startOf","isoWeek"),t.to_date=_("endOf","isoWeek");break;case"Previous Month":t.from_date=_("startOf","month"),t.to_date=_("endOf","month");break;case"Previous Quarter":t.from_date=_("startOf","quarter"),t.to_date=_("endOf","quarter");break;case"Previous Year":t.from_date=_("startOf","year"),t.to_date=_("endOf","year");break}}async function O(){let a=await h();return window.open(Y.value,"_blank"),a}function h(){return v.value=f.value,!0}function b(){h(),window.open(Y.value+"&download=true"),setTimeout(()=>{v.value=f.value},200)}return(a,u)=>{const I=m("BaseMultiselect"),M=m("BaseInputGroup"),P=m("BaseDatePicker"),w=m("BaseButton"),k=m("BaseIcon");return S(),j("div",me,[i("div",pe,[e(M,{label:a.$t("reports.profit_loss.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[e(I,{modelValue:s.value,"onUpdate:modelValue":[u[0]||(u[0]=$=>s.value=$),T],options:p,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),i("div",_e,[e(M,{label:a.$t("reports.profit_loss.from_date")},{default:c(()=>[e(P,{modelValue:t.from_date,"onUpdate:modelValue":u[1]||(u[1]=$=>t.from_date=$)},null,8,["modelValue"])]),_:1},8,["label"]),u[3]||(u[3]=i("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1)),e(M,{label:a.$t("reports.profit_loss.to_date")},{default:c(()=>[e(P,{modelValue:t.to_date,"onUpdate:modelValue":u[2]||(u[2]=$=>t.to_date=$)},null,8,["modelValue"])]),_:1},8,["label"])]),e(w,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:L(h,["prevent"])},{default:c(()=>[U(x(a.$t("reports.update_report")),1)]),_:1})]),i("div",fe,[i("iframe",{src:Y.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,ve),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:O},[e(k,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,x(a.$t("reports.view_pdf")),1)])])])}}},ye={class:"grid gap-8 md:grid-cols-12 pt-10"},ke={class:"col-span-8 md:col-span-4"},he={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},ge={class:"col-span-8"},Ye=["src"],we={__name:"TaxReport",setup(W){const y=C();y.downloadReport=b;const{t:D}=F.useI18n(),n=V([{label:D("dateRange.today"),key:"Today"},{label:D("dateRange.this_week"),key:"This Week"},{label:D("dateRange.this_month"),key:"This Month"},{label:D("dateRange.this_quarter"),key:"This Quarter"},{label:D("dateRange.this_year"),key:"This Year"},{label:D("dateRange.previous_week"),key:"Previous Week"},{label:D("dateRange.previous_month"),key:"Previous Month"},{label:D("dateRange.previous_quarter"),key:"Previous Quarter"},{label:D("dateRange.previous_year"),key:"Previous Year"},{label:D("dateRange.custom"),key:"Custom"}]),p=g(n[2]),s=V({from_date:o().startOf("month").format("YYYY-MM-DD").toString(),to_date:o().endOf("month").format("YYYY-MM-DD").toString()});let v=g(null);const R=B(()=>v.value),l=Q(),t=B(()=>l.selectedCompany);let Y=g(null);G(()=>{Y.value=`/reports/tax-summary/${t.value.unique_hash}`,v.value=r.value});const r=B(()=>`${Y.value}?from_date=${o(s.from_date).format("YYYY-MM-DD")}&to_date=${o(s.to_date).format("YYYY-MM-DD")}`);let f=g(new Date);H(f.value,a=>{s.from_date=o(a).startOf("year").toString(),s.to_date=o(a).endOf("year").toString()});function d(a,u){return o()[a](u).format("YYYY-MM-DD")}function _(a,u){return o().subtract(1,u)[a](u).format("YYYY-MM-DD")}function T(){switch(p.value.key){case"Today":s.from_date=o().format("YYYY-MM-DD"),s.to_date=o().format("YYYY-MM-DD");break;case"This Week":s.from_date=d("startOf","isoWeek"),s.to_date=d("endOf","isoWeek");break;case"This Month":s.from_date=d("startOf","month"),s.to_date=d("endOf","month");break;case"This Quarter":s.from_date=d("startOf","quarter"),s.to_date=d("endOf","quarter");break;case"This Year":s.from_date=d("startOf","year"),s.to_date=d("endOf","year");break;case"Previous Week":s.from_date=_("startOf","isoWeek"),s.to_date=_("endOf","isoWeek");break;case"Previous Month":s.from_date=_("startOf","month"),s.to_date=_("endOf","month");break;case"Previous Quarter":s.from_date=_("startOf","quarter"),s.to_date=_("endOf","quarter");break;case"Previous Year":s.from_date=_("startOf","year"),s.to_date=_("endOf","year");break}}async function O(){let a=await h();return window.open(R.value,"_blank"),a}function h(){return v.value=r.value,!0}function b(){h(),window.open(R.value+"&download=true"),setTimeout(()=>{v.value=r.value},200)}return(a,u)=>{const I=m("BaseMultiselect"),M=m("BaseInputGroup"),P=m("BaseDatePicker"),w=m("BaseButton"),k=m("BaseIcon");return S(),j("div",ye,[i("div",ke,[e(M,{label:a.$t("reports.taxes.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[e(I,{modelValue:p.value,"onUpdate:modelValue":[u[0]||(u[0]=$=>p.value=$),T],options:n,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),i("div",he,[e(M,{label:a.$t("reports.taxes.from_date")},{default:c(()=>[e(P,{modelValue:s.from_date,"onUpdate:modelValue":u[1]||(u[1]=$=>s.from_date=$)},null,8,["modelValue"])]),_:1},8,["label"]),u[3]||(u[3]=i("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1)),e(M,{label:a.$t("reports.taxes.to_date")},{default:c(()=>[e(P,{modelValue:s.to_date,"onUpdate:modelValue":u[2]||(u[2]=$=>s.to_date=$)},null,8,["modelValue"])]),_:1},8,["label"])]),e(w,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:L(h,["prevent"])},{default:c(()=>[U(x(a.$t("reports.update_report")),1)]),_:1})]),i("div",ge,[i("iframe",{src:R.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,Ye),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:O},[e(k,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,x(a.$t("reports.view_pdf")),1)])])])}}},De={class:"grid gap-8 md:grid-cols-12 pt-10"},Be={class:"col-span-8 md:col-span-4"},Re={class:"col-span-8"},$e=["src"],Me={__name:"TrialBalance",setup(W){const y=C(),D=Q();y.downloadReport=r;let n=g(null),p=g(null);const s=V({as_of_date:o().toString()}),v=B(()=>n.value),R=B(()=>D.selectedCompany),l=B(()=>`${p.value}?as_of_date=${o(s.as_of_date).format("YYYY-MM-DD")}`);G(()=>{p.value=`/reports/trial-balance/${R.value.unique_hash}`,n.value=l.value});async function t(){let f=await Y();return window.open(v.value,"_blank"),f}function Y(){return n.value=l.value,!0}function r(){Y(),window.open(v.value+"&download=true"),setTimeout(()=>{n.value=l.value},200)}return(f,d)=>{const _=m("BaseDatePicker"),T=m("BaseInputGroup"),O=m("BaseButton"),h=m("BaseIcon");return S(),j("div",De,[i("div",Be,[e(T,{label:f.$t("reports.accounting.as_of_date"),class:"col-span-12 md:col-span-8"},{default:c(()=>[e(_,{modelValue:s.as_of_date,"onUpdate:modelValue":d[0]||(d[0]=b=>s.as_of_date=b)},null,8,["modelValue"])]),_:1},8,["label"]),e(O,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:L(Y,["prevent"])},{default:c(()=>[U(x(f.$t("reports.update_report")),1)]),_:1})]),i("div",Re,[i("iframe",{src:v.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,$e),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:t},[e(h,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,x(f.$t("reports.view_pdf")),1)])])])}}},Oe={class:"grid gap-8 md:grid-cols-12 pt-10"},Te={class:"col-span-8 md:col-span-4"},xe={class:"col-span-8"},Pe=["src"],Ve={__name:"BalanceSheet",setup(W){const y=C(),D=Q();y.downloadReport=r;let n=g(null),p=g(null);const s=V({as_of_date:o().toString()}),v=B(()=>n.value),R=B(()=>D.selectedCompany),l=B(()=>`${p.value}?as_of_date=${o(s.as_of_date).format("YYYY-MM-DD")}`);G(()=>{p.value=`/reports/balance-sheet/${R.value.unique_hash}`,n.value=l.value});async function t(){let f=await Y();return window.open(v.value,"_blank"),f}function Y(){return n.value=l.value,!0}function r(){Y(),window.open(v.value+"&download=true"),setTimeout(()=>{n.value=l.value},200)}return(f,d)=>{const _=m("BaseDatePicker"),T=m("BaseInputGroup"),O=m("BaseButton"),h=m("BaseIcon");return S(),j("div",Oe,[i("div",Te,[e(T,{label:f.$t("reports.accounting.as_of_date"),class:"col-span-12 md:col-span-8"},{default:c(()=>[e(_,{modelValue:s.as_of_date,"onUpdate:modelValue":d[0]||(d[0]=b=>s.as_of_date=b)},null,8,["modelValue"])]),_:1},8,["label"]),e(O,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:L(Y,["prevent"])},{default:c(()=>[U(x(f.$t("reports.update_report")),1)]),_:1})]),i("div",xe,[i("iframe",{src:v.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,Pe),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:t},[e(h,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,x(f.$t("reports.view_pdf")),1)])])])}}},Ie={class:"grid gap-8 md:grid-cols-12 pt-10"},Se={class:"col-span-8 md:col-span-4"},Ce={class:"flex flex-col mt-6 lg:space-x-3 lg:flex-row"},Ue={class:"col-span-8"},We=["src"],qe={__name:"IncomeStatement",setup(W){const y=C(),D=Q(),{t:n}=F.useI18n();y.downloadReport=h;const p=V([{label:n("dateRange.today"),key:"Today"},{label:n("dateRange.this_week"),key:"This Week"},{label:n("dateRange.this_month"),key:"This Month"},{label:n("dateRange.this_quarter"),key:"This Quarter"},{label:n("dateRange.this_year"),key:"This Year"},{label:n("dateRange.previous_week"),key:"Previous Week"},{label:n("dateRange.previous_month"),key:"Previous Month"},{label:n("dateRange.previous_quarter"),key:"Previous Quarter"},{label:n("dateRange.previous_year"),key:"Previous Year"},{label:n("dateRange.custom"),key:"Custom"}]),s=g(p[2]);let v=g(null),R=g(null);const l=V({from_date:o().startOf("month").toString(),to_date:o().endOf("month").toString()}),t=B(()=>v.value),Y=B(()=>D.selectedCompany),r=B(()=>`${R.value}?from_date=${o(l.from_date).format("YYYY-MM-DD")}&to_date=${o(l.to_date).format("YYYY-MM-DD")}`);G(()=>{R.value=`/reports/income-statement/${Y.value.unique_hash}`,v.value=r.value});function f(b,a){return o()[b](a).format("YYYY-MM-DD")}function d(b,a){return o().subtract(1,a)[b](a).format("YYYY-MM-DD")}function _(){switch(s.value.key){case"Today":l.from_date=o().format("YYYY-MM-DD"),l.to_date=o().format("YYYY-MM-DD");break;case"This Week":l.from_date=f("startOf","isoWeek"),l.to_date=f("endOf","isoWeek");break;case"This Month":l.from_date=f("startOf","month"),l.to_date=f("endOf","month");break;case"This Quarter":l.from_date=f("startOf","quarter"),l.to_date=f("endOf","quarter");break;case"This Year":l.from_date=f("startOf","year"),l.to_date=f("endOf","year");break;case"Previous Week":l.from_date=d("startOf","isoWeek"),l.to_date=d("endOf","isoWeek");break;case"Previous Month":l.from_date=d("startOf","month"),l.to_date=d("endOf","month");break;case"Previous Quarter":l.from_date=d("startOf","quarter"),l.to_date=d("endOf","quarter");break;case"Previous Year":l.from_date=d("startOf","year"),l.to_date=d("endOf","year");break}}async function T(){let b=await O();return window.open(t.value,"_blank"),b}function O(){return v.value=r.value,!0}function h(){O(),window.open(t.value+"&download=true"),setTimeout(()=>{v.value=r.value},200)}return(b,a)=>{const u=m("BaseMultiselect"),I=m("BaseInputGroup"),M=m("BaseDatePicker"),P=m("BaseButton"),w=m("BaseIcon");return S(),j("div",Ie,[i("div",Se,[e(I,{label:b.$t("reports.accounting.date_range"),class:"col-span-12 md:col-span-8"},{default:c(()=>[e(u,{modelValue:s.value,"onUpdate:modelValue":[a[0]||(a[0]=k=>s.value=k),_],options:p,"value-prop":"key","track-by":"key",label:"label",object:""},null,8,["modelValue","options"])]),_:1},8,["label"]),i("div",Ce,[e(I,{label:b.$t("reports.accounting.from_date")},{default:c(()=>[e(M,{modelValue:l.from_date,"onUpdate:modelValue":a[1]||(a[1]=k=>l.from_date=k)},null,8,["modelValue"])]),_:1},8,["label"]),a[3]||(a[3]=i("div",{class:"hidden w-5 h-0 mx-4 border border-gray-400 border-solid xl:block",style:{"margin-top":"2.5rem"}},null,-1)),e(I,{label:b.$t("reports.accounting.to_date")},{default:c(()=>[e(M,{modelValue:l.to_date,"onUpdate:modelValue":a[2]||(a[2]=k=>l.to_date=k)},null,8,["modelValue"])]),_:1},8,["label"])]),e(P,{variant:"primary-outline",class:"content-center hidden mt-0 w-md md:flex md:mt-8",type:"submit",onClick:L(O,["prevent"])},{default:c(()=>[U(x(b.$t("reports.update_report")),1)]),_:1})]),i("div",Ue,[i("iframe",{src:t.value,class:"hidden w-full h-screen border-gray-100 border-solid rounded md:flex"},null,8,We),i("a",{class:"flex items-center justify-center h-10 px-5 py-1 text-sm font-medium leading-none text-center text-white rounded whitespace-nowrap md:hidden bg-primary-500",onClick:T},[e(w,{name:"DocumentTextIcon",class:"h-5 mr-2"}),i("span",null,x(b.$t("reports.view_pdf")),1)])])])}}},Ge={__name:"Index",setup(W){const y=C(),D=B(()=>{var p;return((p=y.featureFlags)==null?void 0:p.accounting_backbone)===!0});function n(){y.downloadReport()}return(p,s)=>{const v=m("BaseBreadcrumbItem"),R=m("BaseBreadcrumb"),l=m("BaseIcon"),t=m("BaseButton"),Y=m("BasePageHeader"),r=m("BaseTab"),f=m("BaseTabGroup"),d=m("BasePage");return S(),z(d,null,{default:c(()=>[e(Y,{title:p.$t("reports.report",2)},{actions:c(()=>[e(t,{variant:"primary",class:"ml-4",onClick:n},{left:c(_=>[e(l,{name:"ArrowDownTrayIcon",class:X(_.class)},null,8,["class"])]),default:c(()=>[U(" "+x(p.$t("reports.download_pdf")),1)]),_:1})]),default:c(()=>[e(R,null,{default:c(()=>[e(v,{title:p.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),e(v,{title:p.$t("reports.report",2),to:"/admin/reports",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),e(f,{class:"p-2"},{default:c(()=>[e(r,{title:p.$t("reports.sales.sales"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[e(ne,{ref:"report"},null,512)]),_:1},8,["title"]),e(r,{title:p.$t("reports.profit_loss.profit_loss"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[e(be,{ref:"report"},null,512)]),_:1},8,["title"]),e(r,{title:p.$t("reports.expenses.expenses"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[e(ce,{ref:"report"},null,512)]),_:1},8,["title"]),e(r,{title:p.$t("reports.taxes.taxes"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[e(we,{ref:"report"},null,512)]),_:1},8,["title"]),D.value?(S(),z(r,{key:0,title:p.$t("reports.accounting.accounting"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[e(f,{class:"p-2"},{default:c(()=>[e(r,{title:p.$t("reports.accounting.trial_balance"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[e(Me,{ref:"report"},null,512)]),_:1},8,["title"]),e(r,{title:p.$t("reports.accounting.balance_sheet"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[e(Ve,{ref:"report"},null,512)]),_:1},8,["title"]),e(r,{title:p.$t("reports.accounting.income_statement"),"tab-panel-container":"px-0 py-0"},{default:c(()=>[e(qe,{ref:"report"},null,512)]),_:1},8,["title"])]),_:1})]),_:1},8,["title"])):Z("",!0)]),_:1})]),_:1})}}};export{Ge as default};
