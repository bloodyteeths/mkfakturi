import{v as P,u as D,e as m,j as F,k as O,K as k,w as u,s as B,r as d,o as x,a,b as e,L as I,t as s,c as E,q as w,M as H}from"./main-rC5xHABW.js";const z={class:"grid grid-cols-1 gap-6 mt-6"},K={class:"flex items-center mb-4"},R={class:"text-lg font-medium text-gray-900"},G={class:"text-gray-600 mb-6"},J={class:"space-y-4"},Q={class:"flex items-center justify-between"},W={class:"text-sm font-medium text-gray-900"},X={class:"text-sm text-gray-500"},Y={key:0,class:"border-t pt-4 space-y-4"},Z={class:"flex items-center justify-between"},ee={class:"text-sm font-medium text-gray-900"},te={class:"text-sm text-gray-500"},se={class:"flex items-center justify-between"},ae={class:"text-sm font-medium text-gray-900"},ie={class:"text-sm text-gray-500"},ne={class:"flex items-center justify-between"},le={class:"text-sm font-medium text-gray-900"},oe={class:"text-sm text-gray-500"},re={class:"flex items-center mb-4"},de={class:"text-lg font-medium text-gray-900"},ue={class:"space-y-4"},ce={class:"flex items-center mb-4"},_e={class:"text-lg font-medium text-gray-900"},ge={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},me={class:"bg-gray-50 p-4 rounded-lg"},he={class:"text-sm font-medium text-gray-500 mb-1"},ve={class:"text-lg font-semibold text-gray-900"},ye={class:"bg-gray-50 p-4 rounded-lg"},pe={class:"text-sm font-medium text-gray-500 mb-1"},fe={class:"text-lg font-semibold text-gray-900"},be={class:"bg-gray-50 p-4 rounded-lg"},Be={class:"text-sm font-medium text-gray-500 mb-1"},xe={class:"mt-4"},Ve={__name:"AiInsightsSetting",setup(we){const{t:o}=P.useI18n(),c=D(),l=m({enabled:!1,financial_analytics:!0,risk_assessment:!0,predictive_analytics:!1,update_frequency:"daily",data_retention:"90"}),h=m(null),v=m(0),g=m("active"),p=m(!1),N=[{value:"realtime",label:o("ai.insights.frequency_realtime")},{value:"hourly",label:o("ai.insights.frequency_hourly")},{value:"daily",label:o("ai.insights.frequency_daily")},{value:"weekly",label:o("ai.insights.frequency_weekly")}],q=[{value:"30",label:o("ai.insights.retention_30_days")},{value:"90",label:o("ai.insights.retention_90_days")},{value:"180",label:o("ai.insights.retention_180_days")},{value:"365",label:o("ai.insights.retention_1_year")}],S=F(()=>{switch(g.value){case"active":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-gray-600"}});async function $(){var t,i;try{const n=await B.get("/ai/settings");n.data.settings&&Object.assign(l.value,n.data.settings),h.value=n.data.last_analysis||null,v.value=n.data.insights_count||0,g.value=n.data.system_status||"inactive"}catch(n){console.error("Failed to load AI settings:",n),(((t=n.response)==null?void 0:t.status)===404||((i=n.response)==null?void 0:i.status)===501)&&c.showNotification({type:"info",message:o("ai.insights.api_not_implemented")}),h.value=h.value||null,v.value=v.value||0,g.value=g.value||"inactive"}}async function _(){try{await B.post("/ai/settings",{settings:l.value}),c.showNotification({type:"success",message:o("ai.insights.settings_updated")})}catch(t){console.error("Failed to update AI settings:",t),c.showNotification({type:"error",message:o("ai.insights.settings_update_failed")})}}async function A(){var t,i;p.value=!0;try{await B.post("/ai/insights/generate"),c.showNotification({type:"success",message:o("ai.insights.analysis_started")}),setTimeout(async()=>{await $()},2e3)}catch(n){console.error("Failed to run analysis:",n),((t=n.response)==null?void 0:t.status)===404||((i=n.response)==null?void 0:i.status)===501?c.showNotification({type:"info",message:o("ai.insights.api_not_implemented")}):c.showNotification({type:"error",message:o("ai.insights.analysis_failed")})}finally{p.value=!1}}function j(t){return t?new Date(t).toLocaleString():o("general.never")}return O(()=>{$()}),(t,i)=>{const n=d("BaseBreadcrumbItem"),U=d("BaseBreadcrumb"),L=d("BasePageHeader"),f=d("BaseIcon"),y=d("BaseToggle"),b=d("BaseCard"),V=d("BaseLabel"),C=d("BaseMultiselect"),T=d("BaseButton"),M=d("BasePage");return x(),k(M,null,{default:u(()=>[a(L,{title:t.$t("settings.menu_title.ai_insights")},{default:u(()=>[a(U,null,{default:u(()=>[a(n,{title:t.$t("general.home"),to:"/admin/dashboard"},null,8,["title"]),a(n,{title:t.$t("settings.setting",2),to:"/admin/settings/account-settings"},null,8,["title"]),a(n,{title:t.$t("settings.menu_title.ai_insights"),to:"#",active:""},null,8,["title"])]),_:1})]),_:1},8,["title"]),e("div",z,[a(b,{class:"p-6"},{default:u(()=>[e("div",K,[a(f,{name:"LightBulbIcon",class:"w-6 h-6 mr-3 text-primary-600"}),e("h3",R,s(t.$t("ai.insights.overview_title")),1)]),e("p",G,s(t.$t("ai.insights.overview_description")),1),e("div",J,[e("div",Q,[e("div",null,[e("h4",W,s(t.$t("ai.insights.enable_ai_features")),1),e("p",X,s(t.$t("ai.insights.enable_ai_features_description")),1)]),a(y,{modelValue:l.value.enabled,"onUpdate:modelValue":i[0]||(i[0]=r=>l.value.enabled=r),onChange:_},null,8,["modelValue"])]),l.value.enabled?(x(),E("div",Y,[e("div",Z,[e("div",null,[e("h4",ee,s(t.$t("ai.insights.financial_analytics")),1),e("p",te,s(t.$t("ai.insights.financial_analytics_description")),1)]),a(y,{modelValue:l.value.financial_analytics,"onUpdate:modelValue":i[1]||(i[1]=r=>l.value.financial_analytics=r),onChange:_},null,8,["modelValue"])]),e("div",se,[e("div",null,[e("h4",ae,s(t.$t("ai.insights.risk_assessment")),1),e("p",ie,s(t.$t("ai.insights.risk_assessment_description")),1)]),a(y,{modelValue:l.value.risk_assessment,"onUpdate:modelValue":i[2]||(i[2]=r=>l.value.risk_assessment=r),onChange:_},null,8,["modelValue"])]),e("div",ne,[e("div",null,[e("h4",le,s(t.$t("ai.insights.predictive_analytics")),1),e("p",oe,s(t.$t("ai.insights.predictive_analytics_description")),1)]),a(y,{modelValue:l.value.predictive_analytics,"onUpdate:modelValue":i[3]||(i[3]=r=>l.value.predictive_analytics=r),onChange:_},null,8,["modelValue"])])])):I("",!0)])]),_:1}),l.value.enabled?(x(),k(b,{key:0,class:"p-6"},{default:u(()=>[e("div",re,[a(f,{name:"CogIcon",class:"w-6 h-6 mr-3 text-primary-600"}),e("h3",de,s(t.$t("ai.insights.configuration_title")),1)]),e("div",ue,[e("div",null,[a(V,null,{default:u(()=>[w(s(t.$t("ai.insights.update_frequency")),1)]),_:1}),a(C,{modelValue:l.value.update_frequency,"onUpdate:modelValue":[i[4]||(i[4]=r=>l.value.update_frequency=r),_],options:N,"value-prop":"value",label:"label"},null,8,["modelValue"])]),e("div",null,[a(V,null,{default:u(()=>[w(s(t.$t("ai.insights.data_retention")),1)]),_:1}),a(C,{modelValue:l.value.data_retention,"onUpdate:modelValue":[i[5]||(i[5]=r=>l.value.data_retention=r),_],options:q,"value-prop":"value",label:"label"},null,8,["modelValue"])])])]),_:1})):I("",!0),a(b,{class:"p-6"},{default:u(()=>[e("div",ce,[a(f,{name:"ChartBarIcon",class:"w-6 h-6 mr-3 text-primary-600"}),e("h3",_e,s(t.$t("ai.insights.status_title")),1)]),e("div",ge,[e("div",me,[e("div",he,s(t.$t("ai.insights.last_analysis")),1),e("div",ve,s(j(h.value)),1)]),e("div",ye,[e("div",pe,s(t.$t("ai.insights.insights_generated")),1),e("div",fe,s(v.value),1)]),e("div",be,[e("div",Be,s(t.$t("ai.insights.system_status")),1),e("div",{class:H(["text-lg font-semibold",S.value])},s(t.$t(`ai.insights.status_${g.value}`)),3)])]),e("div",xe,[a(T,{variant:"primary",onClick:A,loading:p.value},{default:u(()=>[w(s(t.$t("ai.insights.run_analysis")),1)]),_:1},8,["loading"])])]),_:1})])]),_:1})}}};export{Ve as default};
