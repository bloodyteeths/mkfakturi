import{a6 as i,e as n}from"./main-Ds_umSNN.js";const f=i("partnerUser",()=>{const s=n({id:null,name:"",email:"",is_partner:!1,partner_id:null,commission_rate:0}),t=n(!1),r=n(!1);return{currentUser:s,isAuthenticated:t,isLoading:r,login:async e=>{r.value=!0;try{return s.value={id:1,name:"Марко Петровски",email:e.email,is_partner:!0,partner_id:1,commission_rate:15},t.value=!0,{success:!0}}catch(a){return console.error("Login error:",a),{success:!1,error:a.message}}finally{r.value=!1}},logout:async()=>{try{s.value={id:null,name:"",email:"",is_partner:!1,partner_id:null,commission_rate:0},t.value=!1}catch(e){console.error("Logout error:",e)}},loadCurrentUser:async()=>{r.value=!0;try{localStorage.getItem("partner_token")&&(s.value={id:1,name:"Марко Петровски",email:"marko.petrovski@email.com",is_partner:!0,partner_id:1,commission_rate:15},t.value=!0)}catch(e){console.error("Error loading current user:",e)}finally{r.value=!1}},hasAbilities:e=>{const a=["view-dashboard","view-commissions","view-clients","manage-profile"];return Array.isArray(e)?e.every(o=>a.includes(o)):a.includes(e)}}});export{f as u};
